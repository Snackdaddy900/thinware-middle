<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Quote Form</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- Fullscreen iframe (same scene, keeps consistency) -->
  <iframe 
    class="fullscreen-iframe"
    src="https://app.vectary.com/p/2FJYYQ9lO2dXHFwpk31gUe"
    allow="xr-spatial-tracking; fullscreen;">
  </iframe>

  <!-- Modal #2 â€” Contact details -->
  <div id="modal-form" class="frosted-modal" style="display:block;">
    <h1 class="modal-title">Tell us who to send the quote to</h1>

    <input id="firstName" class="modal-input" placeholder="First Name" />
    <input id="lastName" class="modal-input" placeholder="Surname" />
    <input id="company" class="modal-input" placeholder="Company Name (optional)" />
    <input id="email" class="modal-input" placeholder="Email Address" type="email" />

    <button class="modal-button" onclick="submitForm()">Send</button>
  </div>

<script>
function submitForm() {
    const payload = {
        firstName: document.getElementById("firstName").value,
        lastName: document.getElementById("lastName").value,
        company: document.getElementById("company").value,
        email: document.getElementById("email").value
    };

    fetch("/.netlify/functions/send-quote-lead", {
        method: "POST",
        body: JSON.stringify(payload)
    })
    .then(res => res.json())
    .then(() => {
        window.location.href = "quote-handoff.html";
    })
    .catch(err => console.error(err));
}
</script>

</body>
</html>
