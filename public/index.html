<h1>Lead Form</h1>

<form id="form">
  <input name="leadName" placeholder="Name" required />
  <input name="companyName" placeholder="Company" />
  <input name="leadEmail" placeholder="Email" type="email" required />
  <button>Send</button>
</form>

<script>
document.getElementById("form").addEventListener("submit", async (e) => {
  e.preventDefault();
  const data = Object.fromEntries(new FormData(e.target));

  data.notes = "";
  data.product = "Test";
  data.config = "Demo";
  data.price = null;
  data.configId = "demo";
  data.sourceUrl = location.href;

  await fetch("/.netlify/functions/send-quote-lead", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify(data)
  });

  alert("Sent");
});
</script>
